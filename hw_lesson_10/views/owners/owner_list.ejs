<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/stylesheets/base_styles.css">
	<link rel="stylesheet" href="/stylesheets/owner_views_styles/owner_list.css">
	<title>Owner List</title>
</head>

<body>
	<header>
		<h1>Owner List</h1>
	</header>
	<div class="table-container">
		<table>
			<thead>
				<tr>
					<th>Full Name</th>
					<th>Address</th>
					<% if (user && user.role.name==='admin' ) { %>
						<th>Actions</th>
						<% } %>
				</tr>
			</thead>
			<tbody>
				<% owners.forEach(owner=> { %>
					<tr class="owner-item">
						<td class="owner-details">
							<a href="/owners/<%= owner._id %>">
								<strong>
									<%= owner.fullName %>
								</strong>
							</a>
						</td>
						<td class="owner-details">
							<%= owner.address %>
						</td>
						<% if (user && user.role.name==='admin' ) { %>
							<td class="owner-actions">
								<a href="/owners/<%= owner._id %>/edit" class="edit-button">Edit</a>
								<form action="/owners/<%= owner._id %>?_method=DELETE" method="POST" style="display:inline;">
									<button type="submit" class="delete-button">Delete</button>
								</form>
							</td>
							<% } %>
					</tr>
					<% }) %>
			</tbody>
		</table>
		<div class="button-container">
			<% if (user) { %>
				<a href="/owners/new" class="add-button">Add New Owner</a>
				<% } %>
		</div>
	</div>
	<a href="/" class="back-button">Back to Main Page</a>
	<footer>
		<p>&copy; 2024 Vehicle Fleet Management System</p>
	</footer>
</body>

</html>